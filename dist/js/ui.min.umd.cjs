(function(i,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(i=typeof globalThis<"u"?globalThis:i||self,u(i.ui={}))})(this,function(i){"use strict";let u=null;function E(){return u===null&&(u=Array.from(document.styleSheets).map(n=>{const t=new CSSStyleSheet,e=Array.from(n.cssRules).map(o=>o.cssText).join(" ");return t.replaceSync(e),t})),u}function D(n){n.adoptedStyleSheets.push(...E())}const T={onDragStart:null,onDragging:null,onDragEnd:null};function L(n,t,e){e={...T,...e};const o=[...n.children].indexOf(t);return t.draggable=!0,t.ondragstart=r=>{r.dataTransfer&&(r.dataTransfer.effectAllowed="move",r.dataTransfer.dropEffect="move"),n.classList.add("ui-dragging"),e.onDragStart&&e.onDragStart(o)},t.ondragover=r=>(r.preventDefault(),!1),t.ondragenter=r=>{r.preventDefault(),[...n.children].forEach((a,d)=>{if(d===o){a.style.background="var(--ui-primary)",a.style.color="var(--ui-primary-text)";return}a.style.background="inherit",a.style.color="inherit"}),e.onDragging&&e.onDragging(o)},t.ondrop=r=>{r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="move"),n.classList.remove("ui-dragging"),e.onDragEnd&&e.onDragEnd(o),[...n.children].forEach(a=>{a.style.background="inherit",a.style.color="inherit"})},()=>{t.draggable=!1,t.ondragstart=null,t.ondragover=null,t.ondragenter=null,t.ondrop=null}}const w={onDragStart:null,onDragEnd:null};function $(n,t){t={...w,...t};let e=null,o=null,r=null,a=!1,d="",f="";const h=l=>{const c=l.currentTarget;!e&&Array.from(c.classList).includes("draggable")&&(o=new Date().getTime(),e=c,r&&clearTimeout(r),r=setTimeout(()=>{e&&(d=e.style.color,f=e.style.backgroundColor,e.style.color="var(--ui-primary-text)",e.style.backgroundColor="var(--ui-primary)",n.classList.add("ui-dragging"),a=!0,t!=null&&t.onDragStart&&t.onDragStart())},200))},S=l=>{if(!o||!e)return;if(!a&&new Date().getTime()-o<200){p();return}l.preventDefault(),a||(a=!0,t!=null&&t.onDragStart&&t.onDragStart());let c;if(l instanceof TouchEvent){const v=l.targetTouches[0];c={clientX:v.clientX,clientY:v.clientY}}else c={clientX:l.clientX,clientY:l.clientY};let s=document.elementFromPoint(c.clientX,c.clientY);if(s){for(;!s.classList.contains("draggable")&&s.parentElement;)s=s.parentElement;s.classList.contains("draggable")&&((()=>{let g=e==null?void 0:e.previousElementSibling;for(;g;){if(g===s)return!0;g=g.previousElementSibling}return!1})()?n.insertBefore(e,s):n.insertBefore(e,s.nextElementSibling))}},p=()=>{r!==null&&(clearTimeout(r),r=null),e&&(e.style.color=d,e.style.backgroundColor=f,e=null),o=null,n.classList.remove("ui-dragging"),a&&(a=!1,t!=null&&t.onDragEnd&&t.onDragEnd())};return[...n.children].forEach(l=>{l.classList.add("draggable"),l.onmousedown=h,l.ontouchstart=h,l.onmousemove=S,l.ontouchmove=S,n.onmouseleave=l.onmouseup=p,l.ontouchend=p}),()=>{[...n.children].forEach(l=>{l.classList.remove("draggable"),l.onmousedown=null,l.ontouchstart=null,l.onmousemove=null,l.ontouchmove=null,n.onmouseleave=l.onmouseup=null,l.ontouchend=null})}}const x=Object.freeze(Object.defineProperty({__proto__:null,createMobile:$,createNative:L},Symbol.toStringTag,{value:"Module"})),b={color:"var(--ui-ripple-color, currentColor)",opacity:"var(--ui-ripple-opacity, 0.2)",centered:!1,spreadDuration:".4s",spreadTiming:"linear",clearDuration:"1s",clearTiming:"ease-in-out",usePointer:!1};function k(n,t){t={...b,...t||{}};let e=null;const o=f=>{e=m(f,t),n.addEventListener("pointermove",a)},r=()=>{n.removeEventListener("pointermove",a),y(e),e=null},a=()=>r(),d=f=>{e=m(f,t),y(e),e=null};return n.classList.add("ripple-container"),n.style.overflow="hidden",t.usePointer?(n.addEventListener("pointerdown",o),n.addEventListener("pointerup",r),n.addEventListener("pointerleave",r)):n.addEventListener("click",d),()=>{if(n.classList.remove("ripple-container"),t.usePointer){n.removeEventListener("pointerdown",o),n.removeEventListener("pointerup",r),n.removeEventListener("pointerleave",r),n.removeEventListener("pointermove",a);return}n.removeEventListener("click",d)}}function m(n,t){const e=document.createElement("div"),o=n.currentTarget;o.appendChild(e),e.classList.add("ripple"),e.style.position="absolute",e.style.color="inherit",e.style.borderRadius="50%",e.style.pointerEvents="none",e.style.width="100px",e.style.height="100px",e.style.marginTop="-50px",e.style.marginLeft="-50px",e.style.opacity=`${t.opacity}`,e.style.backgroundColor=`${t.color}`,e.style.transform="scale(0) translate(0, 0)",e.style.transition=`transform ${t.spreadDuration} ${t.spreadTiming} 0s,opacity ${t.clearDuration} ${t.clearTiming} 0s`;const r=o.getBoundingClientRect();t.centered?(e.style.top=`${r.height/2}px`,e.style.left=`${r.width/2}px`):(e.style.top=`${n.clientY-r.top}px`,e.style.left=`${n.clientX-r.left}px`);const a=Math.max(r.width,r.height)*.02;return e.style.transform=`scale(${a}) translate(0, 0)`,e}function y(n){n&&(n.addEventListener("transitionend",t=>{t.propertyName==="opacity"&&n.remove()}),n.style.opacity="0")}const C=Object.freeze(Object.defineProperty({__proto__:null,create:k,defaultOptions:b,start:m,stop:y},Symbol.toStringTag,{value:"Module"}));function O(){return/(android)/i.test(navigator.userAgent)}function P(n){return Object.entries(n).map(([t,e])=>`${t.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}:${e}`).join(";")+";"}i.addGlobalStylesToShadowRoot=D,i.draggable=x,i.isAndroid=O,i.ripple=C,i.styles=P,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
