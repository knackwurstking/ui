(function(i,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(i=typeof globalThis<"u"?globalThis:i||self,u(i.ui={}))})(this,function(i){"use strict";let u=null;function S(){return u===null&&(u=Array.from(document.styleSheets).map(r=>{const t=new CSSStyleSheet,e=Array.from(r.cssRules).map(l=>l.cssText).join(" ");return t.replaceSync(e),t})),u}function L(r){r.adoptedStyleSheets.push(...S())}class D{constructor(){this.listeners={}}addListener(t,e){return this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e),()=>this.removeListener(t,e)}removeListener(t,e){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter(l=>l!==e))}dispatch(t,e){this.listeners[t]&&this.listeners[t].forEach(l=>l(e))}}class T{constructor(){this.callbacks=[]}add(...t){this.callbacks.push(...t)}run(){this.callbacks.filter(t=>(t(),!1))}}const w={onDragStart:null,onDragging:null,onDragEnd:null};function $(r,t,e){e={...w,...e};const l=[...r.children].indexOf(t);return t.draggable=!0,t.ondragstart=n=>{n.dataTransfer&&(n.dataTransfer.effectAllowed="move",n.dataTransfer.dropEffect="move"),r.classList.add("ui-dragging"),e.onDragStart&&e.onDragStart(l)},t.ondragover=n=>(n.preventDefault(),!1),t.ondragenter=n=>{n.preventDefault(),[...r.children].forEach((s,c)=>{if(c===l){s.style.background="var(--ui-primary)",s.style.color="var(--ui-primary-text)";return}s.style.background="inherit",s.style.color="inherit"}),e.onDragging&&e.onDragging(l)},t.ondrop=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect="move"),r.classList.remove("ui-dragging"),e.onDragEnd&&e.onDragEnd(l),[...r.children].forEach(s=>{s.style.background="inherit",s.style.color="inherit"})},()=>{t.draggable=!1,t.ondragstart=null,t.ondragover=null,t.ondragenter=null,t.ondrop=null}}const C={onDragStart:null,onDragEnd:null};function x(r,t){t={...C,...t};let e=null,l=null,n=null,s=!1,c="",f="";const b=a=>{const d=a.currentTarget;!e&&Array.from(d.classList).includes("draggable")&&(l=new Date().getTime(),e=d,n&&clearTimeout(n),n=setTimeout(()=>{e&&(c=e.style.color,f=e.style.backgroundColor,e.style.color="var(--ui-primary-text)",e.style.backgroundColor="var(--ui-primary)",r.classList.add("ui-dragging"),s=!0,t!=null&&t.onDragStart&&t.onDragStart())},200))},E=a=>{if(!l||!e)return;if(!s&&new Date().getTime()-l<200){y();return}a.preventDefault(),s||(s=!0,t!=null&&t.onDragStart&&t.onDragStart());let d;if(a instanceof TouchEvent){const v=a.targetTouches[0];d={clientX:v.clientX,clientY:v.clientY}}else d={clientX:a.clientX,clientY:a.clientY};let o=document.elementFromPoint(d.clientX,d.clientY);if(o){for(;!o.classList.contains("draggable")&&o.parentElement;)o=o.parentElement;o.classList.contains("draggable")&&((()=>{let g=e==null?void 0:e.previousElementSibling;for(;g;){if(g===o)return!0;g=g.previousElementSibling}return!1})()?r.insertBefore(e,o):r.insertBefore(e,o.nextElementSibling))}},y=()=>{n!==null&&(clearTimeout(n),n=null),e&&(e.style.color=c,e.style.backgroundColor=f,e=null),l=null,r.classList.remove("ui-dragging"),s&&(s=!1,t!=null&&t.onDragEnd&&t.onDragEnd())};return[...r.children].forEach(a=>{a.classList.add("draggable"),a.onmousedown=b,a.ontouchstart=b,a.onmousemove=E,a.ontouchmove=E,r.onmouseleave=a.onmouseup=y,a.ontouchend=y}),()=>{[...r.children].forEach(a=>{a.classList.remove("draggable"),a.onmousedown=null,a.ontouchstart=null,a.onmousemove=null,a.ontouchmove=null,r.onmouseleave=a.onmouseup=null,a.ontouchend=null})}}const k=Object.freeze(Object.defineProperty({__proto__:null,createMobile:x,createNative:$},Symbol.toStringTag,{value:"Module"})),h={color:"var(--ui-ripple-color, currentColor)",opacity:"var(--ui-ripple-opacity, 0.2)",centered:!1,spreadDuration:".4s",spreadTiming:"linear",clearDuration:"1s",clearTiming:"ease-in-out",usePointer:!1};function O(r,t){t={...h,...t||{}};let e=null;const l=f=>{e=m(f,t),r.addEventListener("pointermove",s)},n=()=>{r.removeEventListener("pointermove",s),p(e),e=null},s=()=>n(),c=f=>{e=m(f,t),p(e),e=null};return r.classList.add("ripple-container"),r.style.overflow="hidden",t.usePointer?(r.addEventListener("pointerdown",l),r.addEventListener("pointerup",n),r.addEventListener("pointerleave",n)):r.addEventListener("click",c),()=>{if(r.classList.remove("ripple-container"),t.usePointer){r.removeEventListener("pointerdown",l),r.removeEventListener("pointerup",n),r.removeEventListener("pointerleave",n),r.removeEventListener("pointermove",s);return}r.removeEventListener("click",c)}}function m(r,t){const e=document.createElement("div"),l=r.currentTarget;l.appendChild(e),e.classList.add("ripple"),e.style.position="absolute",e.style.color="inherit",e.style.borderRadius="50%",e.style.pointerEvents="none",e.style.width="100px",e.style.height="100px",e.style.marginTop="-50px",e.style.marginLeft="-50px",e.style.opacity=`${t.opacity}`,e.style.backgroundColor=`${t.color}`,e.style.transform="scale(0) translate(0, 0)",e.style.transition=`transform ${t.spreadDuration} ${t.spreadTiming} 0s,opacity ${t.clearDuration} ${t.clearTiming} 0s`;const n=l.getBoundingClientRect();t.centered?(e.style.top=`${n.height/2}px`,e.style.left=`${n.width/2}px`):(e.style.top=`${r.clientY-n.top}px`,e.style.left=`${r.clientX-n.left}px`);const s=Math.max(n.width,n.height)*.02;return e.style.transform=`scale(${s}) translate(0, 0)`,e}function p(r){r&&(r.addEventListener("transitionend",t=>{t.propertyName==="opacity"&&r.remove()}),r.style.opacity="0")}const P=Object.freeze(Object.defineProperty({__proto__:null,create:O,defaultOptions:h,start:m,stop:p},Symbol.toStringTag,{value:"Module"}));function j(){return/(android)/i.test(navigator.userAgent)}function A(r){return Object.entries(r).map(([t,e])=>`${t.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}:${e}`).join(";")+";"}i.CleanUp=T,i.Events=D,i.addGlobalStylesToShadowRoot=L,i.draggable=k,i.isAndroid=j,i.ripple=P,i.styles=A,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
