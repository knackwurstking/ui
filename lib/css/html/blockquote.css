/* Blockquote Base Styles */
blockquote {
    position: relative;
    margin: calc(var(--ui-spacing) * 3) 0;
    padding: calc(var(--ui-spacing) * 2);
    padding-left: calc(var(--ui-spacing) * 3);

    background-color: var(--ui-color-100);
    border-left: 3px solid var(--ui-primary);
    border-radius: var(--ui-radius);

    --wght: 350;
    --slnt: -5;
    line-height: 1.6;
}

/* Content styling */
blockquote p {
    margin: 0;
}

blockquote p + p {
    margin-top: var(--ui-spacing);
}

/* Citation styles */
blockquote cite,
blockquote footer {
    display: block;
    margin-top: calc(var(--ui-spacing) * 1.5);
    font-size: 0.875rem;
    color: var(--ui-muted-text);
    text-align: right;
    --wght: 400;
    --slnt: 0;
}

blockquote cite::before,
blockquote footer::before {
    content: "\2014\00A0";
}

/* Nested blockquotes */
blockquote blockquote {
    margin: var(--ui-spacing) 0;
    padding: var(--ui-spacing) calc(var(--ui-spacing) * 2);
    border-left-width: 2px;
    background-color: transparent;
    opacity: 0.9;
}

/* Variant: Clean (no background) */
blockquote.clean {
    background-color: transparent;
    padding-left: calc(var(--ui-spacing) * 2.5);
}

/* Variant: Centered */
blockquote.centered {
    text-align: center;
    border-left: none;
    border-top: 2px solid var(--ui-primary);
    border-bottom: 2px solid var(--ui-primary);
    padding: calc(var(--ui-spacing) * 2);
    max-width: 40rem;
    margin-left: auto;
    margin-right: auto;
}

blockquote.centered cite,
blockquote.centered footer {
    text-align: center;
}

/* Variant: Large */
blockquote.large {
    font-size: 1.125rem;
    padding: calc(var(--ui-spacing) * 3);
    padding-left: calc(var(--ui-spacing) * 4);
    --wght: 400;
}

/* Variant: Small */
blockquote.small {
    font-size: 0.875rem;
    padding: var(--ui-spacing) calc(var(--ui-spacing) * 1.5);
    padding-left: calc(var(--ui-spacing) * 2.5);
    border-left-width: 2px;
}

/* Color Variants */
blockquote.secondary {
    border-left-color: var(--ui-secondary);
    background-color: var(--ui-color-200);
}

blockquote.success {
    border-left-color: var(--ui-success);
    background-color: var(--ui-color-100);
}

blockquote.warning {
    border-left-color: var(--ui-warning);
    background-color: var(--ui-color-100);
}

blockquote.destructive {
    border-left-color: var(--ui-destructive);
    background-color: var(--ui-color-100);
}

blockquote.info {
    border-left-color: var(--ui-info);
    background-color: var(--ui-color-100);
}

blockquote.muted {
    border-left-color: var(--ui-muted);
    background-color: var(--ui-muted);
    color: var(--ui-muted-text);
}

/* Variant: Callout (prominent) */
blockquote.callout {
    background-color: var(--ui-primary);
    color: var(--ui-primary-text);
    border-left-color: var(--ui-primary-text);
    --wght: 450;
    --slnt: 0;
}

blockquote.callout cite,
blockquote.callout footer {
    color: var(--ui-primary-text);
    opacity: 0.85;
}

/* Variant: Pull quotes */
blockquote.pull-left,
blockquote.pull-right {
    width: 40%;
    margin: var(--ui-spacing) 0;
    font-size: 1rem;
    border: none;
    border-top: 2px solid var(--ui-primary);
    border-bottom: 2px solid var(--ui-primary);
    padding: calc(var(--ui-spacing) * 1.5) 0;
    background-color: transparent;
    --wght: 400;
}

blockquote.pull-left {
    float: left;
    margin-right: calc(var(--ui-spacing) * 2);
    text-align: left;
}

blockquote.pull-right {
    float: right;
    margin-left: calc(var(--ui-spacing) * 2);
    text-align: right;
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
    blockquote {
        transition: none;
    }
}

/* High contrast mode */
@media (prefers-contrast: high) {
    blockquote {
        border-left-width: 4px;
    }

    blockquote.centered {
        border-top-width: 3px;
        border-bottom-width: 3px;
    }
}

/* Print styles */
@media print {
    blockquote {
        page-break-inside: avoid;
        background-color: transparent;
        border-left-width: 2pt;
    }
}

/* Responsive adjustments */
@media (max-width: 640px) {
    blockquote {
        margin: calc(var(--ui-spacing) * 2) 0;
        padding: var(--ui-spacing) calc(var(--ui-spacing) * 1.5);
        padding-left: calc(var(--ui-spacing) * 2.5);
    }

    blockquote.pull-left,
    blockquote.pull-right {
        float: none;
        width: 100%;
        margin: calc(var(--ui-spacing) * 2) 0;
        text-align: left;
    }

    blockquote.large {
        font-size: 1rem;
        padding: calc(var(--ui-spacing) * 2);
        padding-left: calc(var(--ui-spacing) * 3);
    }

    blockquote.centered {
        padding: calc(var(--ui-spacing) * 1.5);
    }
}
