package components

import "github.com/knackwurstking/ui/pkg/css"

type BadgeSize string
type BadgeShape string
type BadgeStatus string
type BadgeFloating string
type BadgeAnimation string

const (
	BadgeSizeXS BadgeSize = css.BadgeXS
	BadgeSizeMD BadgeSize = css.BadgeMD
	BadgeSizeLG BadgeSize = css.BadgeLG
	BadgeSizeXL BadgeSize = css.BadgeXL

	BadgeShapePill    BadgeShape = css.BadgePill
	BadgeShapeSquare  BadgeShape = css.BadgeSquare
	BadgeShapeRounded BadgeShape = css.BadgeRounded

	BadgeStatusOnline  BadgeStatus = css.BadgeStatusOnline
	BadgeStatusOffline BadgeStatus = css.BadgeStatusOffline
	BadgeStatusBusy    BadgeStatus = css.BadgeStatusBusy
	BadgeStatusAway    BadgeStatus = css.BadgeStatusAway

	BadgeFloatingTop    BadgeFloating = css.BadgeFloatTop
	BadgeFloatingBottom BadgeFloating = css.BadgeFloatBottom

	BadgeAnimationPulse  BadgeAnimation = css.BadgePulse
	BadgeAnimationPing   BadgeAnimation = css.BadgePing
	BadgeAnimationBounce BadgeAnimation = css.BadgeBounce
)

type BadgeProps struct {
	Props

	Size      BadgeSize
	Shape     BadgeShape
	Status    BadgeStatus
	Floating  BadgeFloating
	Animation BadgeAnimation

	Counter      bool
	CounterSmall bool

	Clickable bool
}

templ Badge(props *BadgeProps) {
	{{
		if props == nil {
			props = &BadgeProps{}
		}
		props.SetClass(css.Badge)

		if props.Status != "" {
			props.SetClass(css.BadgeStatus, string(props.Status))
		}

		if props.Floating != "" {
			props.SetClass(css.BadgeFloat, string(props.Floating))
		}

		if props.Size != "" {
			props.SetClass(string(props.Size))
		}
		if props.Shape != "" {
			props.SetClass(string(props.Shape))
		}
		if props.Animation != "" {
			props.SetClass(string(props.Animation))
		}

		if props.Clickable {
			props.SetClass(css.BadgeClickable)
		}
		if props.Counter {
			if props.CounterSmall {
				props.SetClass(css.BadgeCounterSM)
			} else {
				props.SetClass(css.BadgeCounterLG)
			}
		}
	}}
	<span { props.GetAttributes()... }>
		{ children... }
	</span>
}
